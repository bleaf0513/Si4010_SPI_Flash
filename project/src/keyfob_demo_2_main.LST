C51 COMPILER V9.59.0.0   KEYFOB_DEMO_2_MAIN                                                01/26/2026 21:51:49 PAGE 1   


C51 COMPILER V9.59.0.0, COMPILATION OF MODULE KEYFOB_DEMO_2_MAIN
OBJECT MODULE PLACED IN keyfob_demo_2_main.OBJ
COMPILER INVOKED BY: C:\Keil\C51\BIN\C51.exe keyfob_demo_2_main.c DB OE BR BROWSE NOAREGS NOINTPROMOTE DEBUG OBJECTEXTEN
                    -D CODE SYMBOLS INCDIR(..\src;..\..\common\src;c:\SiLabs\MCU\Inc)

line level    source

   1          /*------------------------------------------------------------------------------
   2           * Silicon Laboratories, Inc.
   3           * Si4010 RevC
   4           * Toolchain: Keil C51
   5           * Bit-banged SPI Flash Read (CMD 0x03)
   6           *------------------------------------------------------------------------------*/
   7          
   8          #include <intrins.h>
   9          #include "si4010.h"
  10          #include "si4010_api_rom.h"
  11          #include "keyfob_demo_2.h"
  12          
  13          /*------------------------------------------------------------------------------
  14           * TYPE DEFINITIONS (Keil-safe)
  15           *------------------------------------------------------------------------------*/
  16          
  17          
  18          /*------------------------------------------------------------------------------
  19           * GPIO DEFINITIONS
  20           *------------------------------------------------------------------------------*/
  21          sbit MY_LED    = P0^4;
  22          
  23          /* SPI FLASH (bit-banged) */
  24          sbit SPI_CS    = P1^1;   /* GPIO9  */
  25          sbit SPI_CLK   = P0^6;   /* GPIO6  */
  26          sbit SPI_MOSI  = P1^0;   /* GPIO8  */
  27          sbit SPI_MISO  = P0^7;   /* GPIO7  */
  28          
  29          /*------------------------------------------------------------------------------
  30           * SPI LOW-LEVEL SUPPORT
  31           *------------------------------------------------------------------------------*/
  32          void spi_delay(void)
  33          {
  34   1          _nop_();
  35   1          _nop_();
  36   1      }
  37          
  38          /*------------------------------------------------------------------------------
  39           * SPI WRITE BYTE (MSB first)
  40           *------------------------------------------------------------------------------*/
  41          void spi_write_byte(BYTE _data)
  42          {
  43   1          BYTE i;
  44   1      
  45   1          for (i = 0; i < 8; i++)
  46   1          {
  47   2              SPI_MOSI = (_data & 0x80) ? 1 : 0;
  48   2              _data <<= 1;
  49   2      
  50   2              SPI_CLK = 1;
  51   2              spi_delay();
  52   2              SPI_CLK = 0;
  53   2              spi_delay();
  54   2          }
C51 COMPILER V9.59.0.0   KEYFOB_DEMO_2_MAIN                                                01/26/2026 21:51:49 PAGE 2   

  55   1      }
  56          
  57          /*------------------------------------------------------------------------------
  58           * SPI READ BYTE (MSB first)
  59           *------------------------------------------------------------------------------*/
  60          BYTE spi_read_byte(void)
  61          {
  62   1          BYTE i;
  63   1          BYTE _data = 0;
  64   1      
  65   1          for (i = 0; i < 8; i++)
  66   1          {
  67   2              _data <<= 1;
  68   2      
  69   2              SPI_CLK = 1;
  70   2              spi_delay();
  71   2              if (SPI_MISO)
  72   2                  _data |= 1;
  73   2              SPI_CLK = 0;
  74   2              spi_delay();
  75   2          }
  76   1          return _data;
  77   1      }
  78          
  79          /*------------------------------------------------------------------------------
  80           * SPI FLASH READ (CMD = 0x03)
  81           *------------------------------------------------------------------------------*/
  82          void spi_flash_read(LWORD    addr, BYTE *buf, BYTE len)
  83          {
  84   1          BYTE i;
  85   1      
  86   1          SPI_CS = 0;
  87   1      
  88   1          spi_write_byte(0x03);                 /* READ command */
  89   1          spi_write_byte((BYTE)(addr >> 16));   /* A23..A16 */
  90   1          spi_write_byte((BYTE)(addr >> 8));    /* A15..A8  */
  91   1          spi_write_byte((BYTE)(addr));         /* A7..A0   */
  92   1      
  93   1          for (i = 0; i < len; i++)
  94   1              buf[i] = spi_read_byte();
  95   1      
  96   1          SPI_CS = 1;
  97   1      }
  98          
  99          /*------------------------------------------------------------------------------
 100           * READ FREQUENCY FROM FLASH @ 0x000000
 101           * Stored as LITTLE-ENDIAN DWORD
 102           *------------------------------------------------------------------------------*/
 103          LWORD spi_flash_read_freq(void)
 104          {
 105   1          BYTE  b[4];
 106   1          LWORD f;
 107   1      
 108   1          spi_flash_read(0x000000UL, b, 4);
 109   1      
 110   1          f  = ((LWORD)b[3] << 24);
 111   1          f |= ((LWORD)b[2] << 16);
 112   1          f |= ((LWORD)b[1] << 8);
 113   1          f |=  (LWORD)b[0];
 114   1      
 115   1          return f;
 116   1      }
C51 COMPILER V9.59.0.0   KEYFOB_DEMO_2_MAIN                                                01/26/2026 21:51:49 PAGE 3   

 117          
 118          /*------------------------------------------------------------------------------
 119           * MAIN
 120           *------------------------------------------------------------------------------*/
 121          void main(void)
 122          {
 123   1          LWORD fFlashFreqHz;
 124   1      
 125   1          /* Basic system init */
 126   1          PDMD = 1;
 127   1          PORT_CTRL &= ~(M_PORT_MATRIX | M_PORT_ROFF | M_PORT_STROBE);
 128   1          GPIO_LED = 0;
 129   1      
 130   1          vSys_Setup(10);
 131   1          vSys_SetMasterTime(0);
 132   1          vSys_BandGapLdo(1);
 133   1      
 134   1          if ((PROT0_CTRL & M_NVM_BLOWN) > 1)
 135   1          {
 136   2              if (SYSGEN & M_POWER_1ST_TIME)
 137   2                  vSys_FirstPowerUp();
 138   2          }
 139   1      
 140   1          vSys_LedIntensity(3);
 141   1          lLEDOnTime = 20;
 142   1          lPartID = lSys_GetProdId();
 143   1          bIsr_DebounceCount = 0;
 144   1      
 145   1          /* Button setup */
 146   1          rBsrSetup.bButtonMask = bButtonMask_c;
 147   1          rBsrSetup.pbPtsReserveHead = abBsrPtsPlaceHolder;
 148   1          rBsrSetup.bPtsSize = 3;
 149   1          rBsrSetup.bPushQualThresh = 3;
 150   1          vBsr_Setup(&rBsrSetup);
 151   1      
 152   1          RTC_CTRL = (0x07 << B_RTC_DIV) | M_RTC_CLR;
 153   1          RTC_CTRL |= M_RTC_ENA;
 154   1          ERTC = 1;
 155   1          EA = 1;
 156   1      
 157   1          /* ---------- FLASH FREQUENCY READ ---------- */
 158   1          fFlashFreqHz = spi_flash_read_freq();
 159   1      
 160   1          if (fFlashFreqHz < 300000000UL || fFlashFreqHz > 350000000UL)
 161   1              fFlashFreqHz = 315000000UL;   /* Safe fallback */
 162   1      
 163   1          fDesiredFreqOOK = (float)fFlashFreqHz;
 164   1          fDesiredFreqFSK = (float)fFlashFreqHz;
 165   1          bFskDev = b_315_RkeFskDev_c;
 166   1      
 167   1          /* PA setup */
 168   1          rPaSetup.bLevel      = b_315_PaLevel_c;
 169   1          rPaSetup.wNominalCap = b_315_PaNominalCap_c;
 170   1          rPaSetup.bMaxDrv     = b_315_PaMaxDrv_c;
 171   1          rPaSetup.fAlpha      = 0;
 172   1          rPaSetup.fBeta       = 0;
 173   1          vPa_Setup(&rPaSetup);
 174   1      
 175   1      #ifdef OOK
                  rOdsSetup.bModulationType = bModOOK_c;
                  vStl_EncodeSetup(bEncodeManchester_c, NULL);
                  fDesiredFreq = fDesiredFreqOOK;
C51 COMPILER V9.59.0.0   KEYFOB_DEMO_2_MAIN                                                01/26/2026 21:51:49 PAGE 4   

                  bPreamble = bPreambleManch_c;
              #else
 181   1          rOdsSetup.bModulationType = bModFSK_c;
 182   1          vStl_EncodeSetup(bEnc_NoneNrz_c, 0);
 183   1          fDesiredFreq = fDesiredFreqFSK;
 184   1          bPreamble = bPreambleNrz_c;
 185   1      #endif
 186   1      
 187   1          rOdsSetup.bGroupWidth = 7;
 188   1          rOdsSetup.bClkDiv = 5;
 189   1          rOdsSetup.bEdgeRate = 0;
 190   1          rOdsSetup.bLcWarmInt = 0;
 191   1          rOdsSetup.bDivWarmInt = 5;
 192   1          rOdsSetup.bPaWarmInt = 4;
 193   1          rOdsSetup.wBitRate = 417;
 194   1          vOds_Setup(&rOdsSetup);
 195   1      
 196   1          vFCast_Setup();
 197   1      
 198   1          iBatteryMv = iMVdd_Measure(bBatteryWait_c);
 199   1          bBatStatus = (iBatteryMv >= iLowBatMv_c);
 200   1      
 201   1          vDmdTs_RunForTemp(3);
 202   1          while (!bDmdTs_GetSamplesTaken());
 203   1      
 204   1          /* ---------- MAIN LOOP ---------- */
 205   1          while (1)
 206   1          {
 207   2              vButtonCheck();
 208   2              MY_LED = 1;
 209   2      
 210   2              if (bButtonState)
 211   2              {
 212   3                  MY_LED = 0;
 213   3                  bRepeatCount = bRepeatCount_c;
 214   3                  vRepeatTxLoop();
 215   3              }
 216   2              else if ((lSys_GetMasterTime() >> 5) > bMaxWaitForPush_c)
 217   2              {
 218   3                  EA = 0;
 219   3                  vSys_Shutdown();
 220   3              }
 221   2          }
 222   1      }
 223          
 224          /*------------------------------------------------------------------------------
 225           * RTC INTERRUPT
 226           *------------------------------------------------------------------------------*/
 227          void isr_rtc(void) interrupt INTERRUPT_RTC using 1
 228          {
 229   1          RTC_CTRL &= ~M_RTC_INT;
 230   1          vSys_IncMasterTime(5);
 231   1          bIsr_DebounceCount++;
 232   1      
 233   1          if ((bIsr_DebounceCount % bDebounceInterval_c) == 0)
 234   1              vBsr_Service();
 235   1      }
 236          
 237          /*------------------------------------------------------------------------------
 238           * BUTTON CHECK
 239           *------------------------------------------------------------------------------*/
 240          void vButtonCheck(void)
C51 COMPILER V9.59.0.0   KEYFOB_DEMO_2_MAIN                                                01/26/2026 21:51:49 PAGE 5   

 241          {
 242   1          ERTC = 0;
 243   1          bButtonState = 0;
 244   1      
 245   1          if (bBsr_GetPtsItemCnt())
 246   1          {
 247   2              bButtonState = wBsr_Pop() & 0xFF;
 248   2      
 249   2              if (bPrevBtn)
 250   2              {
 251   3                  bPrevBtn = bButtonState;
 252   3                  bButtonState = 0;
 253   3              }
 254   2              else
 255   2              {
 256   3                  bPrevBtn = bButtonState;
 257   3              }
 258   2          }
 259   1      
 260   1          ERTC = 1;
 261   1      }
C51 COMPILER V9.59.0.0   KEYFOB_DEMO_2_MAIN                                                01/26/2026 21:51:49 PAGE 6   

ASSEMBLY LISTING OF GENERATED OBJECT CODE


             ; FUNCTION L?0039 (BEGIN)
0000 EF                MOV     A,R7
0001 25E0              ADD     A,ACC
0003 FF                MOV     R7,A
0004 D286              SETB    SPI_CLK
             ; FUNCTION spi_delay (BEGIN)
                                           ; SOURCE LINE # 32
                                           ; SOURCE LINE # 33
                                           ; SOURCE LINE # 34
0006 00                NOP     
                                           ; SOURCE LINE # 35
0007 00                NOP     
                                           ; SOURCE LINE # 36
0008 22                RET     
             ; FUNCTION spi_delay (END)

             ; FUNCTION L?0038 (BEGIN)
0000 AF00        R     MOV     R7,addr+03H
0002 AE00        R     MOV     R6,addr+02H
0004 AD00        R     MOV     R5,addr+01H
0006 AC00        R     MOV     R4,addr
0008 120000      E     LCALL   ?C?ULSHR
             ; FUNCTION _spi_write_byte (BEGIN)
                                           ; SOURCE LINE # 41
;---- Variable '_data' assigned to Register 'R7' ----
                                           ; SOURCE LINE # 42
                                           ; SOURCE LINE # 45
;---- Variable 'i' assigned to Register 'R6' ----
000B E4                CLR     A
000C FE                MOV     R6,A
000D         ?C0002:
000D EE                MOV     A,R6
000E C3                CLR     C
000F 9408              SUBB    A,#08H
0011 7480              MOV     A,#080H
0013 9480              SUBB    A,#080H
0015 5014              JNC     ?C0007
                                           ; SOURCE LINE # 46
                                           ; SOURCE LINE # 47
0017 EF                MOV     A,R7
0018 30E702            JNB     ACC.7,?C0005
001B 8001              SJMP    ?C0006
001D         ?C0005:
001D C3                CLR     C
001E         ?C0006:
001E 9290              MOV     SPI_MOSI,C
                                           ; SOURCE LINE # 48
                                           ; SOURCE LINE # 50
                                           ; SOURCE LINE # 51
0020 120000      R     LCALL   L?0039
                                           ; SOURCE LINE # 52
0023 C286              CLR     SPI_CLK
                                           ; SOURCE LINE # 53
0025 120000      R     LCALL   spi_delay
                                           ; SOURCE LINE # 54
0028 0E                INC     R6
0029 80E2              SJMP    ?C0002
                                           ; SOURCE LINE # 55
002B         ?C0007:
C51 COMPILER V9.59.0.0   KEYFOB_DEMO_2_MAIN                                                01/26/2026 21:51:49 PAGE 7   

002B 22                RET     
             ; FUNCTION _spi_write_byte (END)

             ; FUNCTION spi_read_byte (BEGIN)
                                           ; SOURCE LINE # 60
                                           ; SOURCE LINE # 61
                                           ; SOURCE LINE # 63
;---- Variable '_data' assigned to Register 'R7' ----
0000 E4                CLR     A
0001 FF                MOV     R7,A
                                           ; SOURCE LINE # 65
;---- Variable 'i' assigned to Register 'R6' ----
0002 FE                MOV     R6,A
0003         ?C0008:
0003 EE                MOV     A,R6
0004 C3                CLR     C
0005 9408              SUBB    A,#08H
0007 7480              MOV     A,#080H
0009 9480              SUBB    A,#080H
000B 5012              JNC     ?C0009
                                           ; SOURCE LINE # 66
                                           ; SOURCE LINE # 67
                                           ; SOURCE LINE # 69
                                           ; SOURCE LINE # 70
000D 120000      R     LCALL   L?0039
                                           ; SOURCE LINE # 71
0010 308704            JNB     SPI_MISO,?C0011
                                           ; SOURCE LINE # 72
0013 CF                XCH     A,R7
0014 4401              ORL     A,#01H
0016 CF                XCH     A,R7
0017         ?C0011:
                                           ; SOURCE LINE # 73
0017 C286              CLR     SPI_CLK
                                           ; SOURCE LINE # 74
0019 120000      R     LCALL   spi_delay
                                           ; SOURCE LINE # 75
001C 0E                INC     R6
001D 80E4              SJMP    ?C0008
001F         ?C0009:
                                           ; SOURCE LINE # 76
                                           ; SOURCE LINE # 77
001F 22                RET     
             ; FUNCTION spi_read_byte (END)

             ; FUNCTION _spi_flash_read (BEGIN)
                                           ; SOURCE LINE # 82
0000 8F00        R     MOV     addr+03H,R7
0002 8E00        R     MOV     addr+02H,R6
0004 8D00        R     MOV     addr+01H,R5
0006 8C00        R     MOV     addr,R4
0008 8B00        R     MOV     buf,R3
000A 8A00        R     MOV     buf+01H,R2
000C 8900        R     MOV     buf+02H,R1
                                           ; SOURCE LINE # 83
                                           ; SOURCE LINE # 86
000E C291              CLR     SPI_CS
                                           ; SOURCE LINE # 88
0010 7F03              MOV     R7,#03H
0012 120000      R     LCALL   _spi_write_byte
                                           ; SOURCE LINE # 89
0015 7810              MOV     R0,#010H
C51 COMPILER V9.59.0.0   KEYFOB_DEMO_2_MAIN                                                01/26/2026 21:51:49 PAGE 8   

0017 120000      R     LCALL   L?0038
                                           ; SOURCE LINE # 90
001A 7808              MOV     R0,#08H
001C 120000      R     LCALL   L?0038
                                           ; SOURCE LINE # 91
001F AF00        R     MOV     R7,addr+03H
0021 120000      R     LCALL   _spi_write_byte
                                           ; SOURCE LINE # 93
;---- Variable 'i' assigned to Register 'R5' ----
0024 E4                CLR     A
0025 FD                MOV     R5,A
0026         ?C0013:
0026 ED                MOV     A,R5
0027 C3                CLR     C
0028 9500        R     SUBB    A,len
002A 5015              JNC     ?C0014
                                           ; SOURCE LINE # 94
002C 120000      R     LCALL   spi_read_byte
002F AB00        R     MOV     R3,buf
0031 AA00        R     MOV     R2,buf+01H
0033 A900        R     MOV     R1,buf+02H
0035 8D82              MOV     DPL,R5
0037 758300            MOV     DPH,#00H
003A EF                MOV     A,R7
003B 120000      E     LCALL   ?C?CSTOPTR
003E 0D                INC     R5
003F 80E5              SJMP    ?C0013
0041         ?C0014:
                                           ; SOURCE LINE # 96
0041 D291              SETB    SPI_CS
                                           ; SOURCE LINE # 97
0043 22                RET     
             ; FUNCTION _spi_flash_read (END)

             ; FUNCTION spi_flash_read_freq (BEGIN)
                                           ; SOURCE LINE # 103
                                           ; SOURCE LINE # 104
                                           ; SOURCE LINE # 108
0000 7B00              MOV     R3,#00H
0002 7A00        R     MOV     R2,#HIGH b
0004 7900        R     MOV     R1,#LOW b
0006 750004      R     MOV     ?_spi_flash_read?BYTE+07H,#04H
0009 7F00              MOV     R7,#00H
000B 7E00              MOV     R6,#00H
000D 7D00              MOV     R5,#00H
000F 7C00              MOV     R4,#00H
0011 120000      R     LCALL   _spi_flash_read
                                           ; SOURCE LINE # 110
0014 AF00        R     MOV     R7,b+03H
0016 E4                CLR     A
0017 FC                MOV     R4,A
0018 FD                MOV     R5,A
0019 FE                MOV     R6,A
001A 7818              MOV     R0,#018H
001C 120000      E     LCALL   ?C?LSHL
001F 8F00        R     MOV     f+03H,R7
0021 8E00        R     MOV     f+02H,R6
0023 8D00        R     MOV     f+01H,R5
0025 8C00        R     MOV     f,R4
                                           ; SOURCE LINE # 111
0027 AF00        R     MOV     R7,b+02H
0029 E4                CLR     A
C51 COMPILER V9.59.0.0   KEYFOB_DEMO_2_MAIN                                                01/26/2026 21:51:49 PAGE 9   

002A FC                MOV     R4,A
002B FD                MOV     R5,A
002C FE                MOV     R6,A
002D 7810              MOV     R0,#010H
002F 120000      E     LCALL   ?C?LSHL
0032 E500        R     MOV     A,f+03H
0034 4F                ORL     A,R7
0035 F500        R     MOV     f+03H,A
0037 E500        R     MOV     A,f+02H
0039 4E                ORL     A,R6
003A F500        R     MOV     f+02H,A
003C E500        R     MOV     A,f+01H
003E 4D                ORL     A,R5
003F F500        R     MOV     f+01H,A
0041 E500        R     MOV     A,f
0043 4C                ORL     A,R4
0044 F500        R     MOV     f,A
                                           ; SOURCE LINE # 112
0046 AF00        R     MOV     R7,b+01H
0048 E4                CLR     A
0049 FC                MOV     R4,A
004A FD                MOV     R5,A
004B FE                MOV     R6,A
004C 7808              MOV     R0,#08H
004E 120000      E     LCALL   ?C?LSHL
0051 E500        R     MOV     A,f+03H
0053 4F                ORL     A,R7
0054 F500        R     MOV     f+03H,A
0056 E500        R     MOV     A,f+02H
0058 4E                ORL     A,R6
0059 F500        R     MOV     f+02H,A
005B E500        R     MOV     A,f+01H
005D 4D                ORL     A,R5
005E F500        R     MOV     f+01H,A
0060 E500        R     MOV     A,f
0062 4C                ORL     A,R4
0063 F500        R     MOV     f,A
                                           ; SOURCE LINE # 113
0065 E500        R     MOV     A,f+03H
0067 4500        R     ORL     A,b
0069 F500        R     MOV     f+03H,A
006B E500        R     MOV     A,f+02H
006D F500        R     MOV     f+02H,A
006F E500        R     MOV     A,f+01H
0071 F500        R     MOV     f+01H,A
0073 E500        R     MOV     A,f
0075 F500        R     MOV     f,A
                                           ; SOURCE LINE # 115
0077 AF00        R     MOV     R7,f+03H
0079 AE00        R     MOV     R6,f+02H
007B AD00        R     MOV     R5,f+01H
007D FC                MOV     R4,A
                                           ; SOURCE LINE # 116
007E 22                RET     
             ; FUNCTION spi_flash_read_freq (END)

             ; FUNCTION main (BEGIN)
                                           ; SOURCE LINE # 121
                                           ; SOURCE LINE # 122
                                           ; SOURCE LINE # 126
0000 D2BA              SETB    PDMD
                                           ; SOURCE LINE # 127
C51 COMPILER V9.59.0.0   KEYFOB_DEMO_2_MAIN                                                01/26/2026 21:51:49 PAGE 10  

0002 53B51F            ANL     PORT_CTRL,#01FH
                                           ; SOURCE LINE # 128
0005 C285              CLR     GPIO_LED
                                           ; SOURCE LINE # 130
0007 7F0A              MOV     R7,#0AH
0009 120000      E     LCALL   _vSys_Setup
                                           ; SOURCE LINE # 131
000C 7F00              MOV     R7,#00H
000E 7E00              MOV     R6,#00H
0010 7D00              MOV     R5,#00H
0012 7C00              MOV     R4,#00H
0014 120000      E     LCALL   _vSys_SetMasterTime
                                           ; SOURCE LINE # 132
0017 7F01              MOV     R7,#01H
0019 120000      E     LCALL   _vSys_BandGapLdo
                                           ; SOURCE LINE # 134
001C E5DA              MOV     A,PROT0_CTRL
001E 5407              ANL     A,#07H
0020 D3                SETB    C
0021 9401              SUBB    A,#01H
0023 7480              MOV     A,#080H
0025 9480              SUBB    A,#080H
0027 4008              JC      ?C0018
                                           ; SOURCE LINE # 135
                                           ; SOURCE LINE # 136
0029 E5BE              MOV     A,SYSGEN
002B 30E503            JNB     ACC.5,?C0018
                                           ; SOURCE LINE # 137
002E 120000      E     LCALL   vSys_FirstPowerUp
                                           ; SOURCE LINE # 138
0031         ?C0018:
                                           ; SOURCE LINE # 140
0031 7F03              MOV     R7,#03H
0033 120000      E     LCALL   _vSys_LedIntensity
                                           ; SOURCE LINE # 141
0036 900000      R     MOV     DPTR,#lLEDOnTime
0039 120000      E     LCALL   ?C?LSTKXDATA
003C 00                DB      00H
003D 00                DB      00H
003E 00                DB      00H
003F 14                DB      014H
                                           ; SOURCE LINE # 142
0040 120000      E     LCALL   lSys_GetProdId
0043 900000      R     MOV     DPTR,#lPartID
0046 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 143
0049 E4                CLR     A
004A F500        R     MOV     bIsr_DebounceCount,A
                                           ; SOURCE LINE # 146
004C 900000      R     MOV     DPTR,#rBsrSetup
004F 741F              MOV     A,#01FH
0051 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 147
0052 A3                INC     DPTR
0053 7400        R     MOV     A,#HIGH abBsrPtsPlaceHolder
0055 F0                MOVX    @DPTR,A
0056 A3                INC     DPTR
0057 7400        R     MOV     A,#LOW abBsrPtsPlaceHolder
0059 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 148
005A A3                INC     DPTR
005B 7403              MOV     A,#03H
C51 COMPILER V9.59.0.0   KEYFOB_DEMO_2_MAIN                                                01/26/2026 21:51:49 PAGE 11  

005D F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 149
005E A3                INC     DPTR
005F F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 150
0060 7E00        R     MOV     R6,#HIGH rBsrSetup
0062 7F00        R     MOV     R7,#LOW rBsrSetup
0064 120000      E     LCALL   _vBsr_Setup
                                           ; SOURCE LINE # 152
0067 759C27            MOV     RTC_CTRL,#027H
                                           ; SOURCE LINE # 153
006A 439C40            ORL     RTC_CTRL,#040H
                                           ; SOURCE LINE # 154
006D D2AB              SETB    ERTC
                                           ; SOURCE LINE # 155
006F D2AF              SETB    EA
                                           ; SOURCE LINE # 158
0071 120000      R     LCALL   spi_flash_read_freq
0074 8F00        R     MOV     fFlashFreqHz+03H,R7
0076 8E00        R     MOV     fFlashFreqHz+02H,R6
0078 8D00        R     MOV     fFlashFreqHz+01H,R5
007A 8C00        R     MOV     fFlashFreqHz,R4
                                           ; SOURCE LINE # 160
007C 7F00              MOV     R7,#00H
007E 7EA3              MOV     R6,#0A3H
0080 7DE1              MOV     R5,#0E1H
0082 7C11              MOV     R4,#011H
0084 AB00        R     MOV     R3,fFlashFreqHz+03H
0086 AA00        R     MOV     R2,fFlashFreqHz+02H
0088 A900        R     MOV     R1,fFlashFreqHz+01H
008A A800        R     MOV     R0,fFlashFreqHz
008C C3                CLR     C
008D 120000      E     LCALL   ?C?ULCMP
0090 4010              JC      ?C0021
0092 7F80              MOV     R7,#080H
0094 7E93              MOV     R6,#093H
0096 7DDC              MOV     R5,#0DCH
0098 7C14              MOV     R4,#014H
009A A800        R     MOV     R0,fFlashFreqHz
009C D3                SETB    C
009D 120000      E     LCALL   ?C?ULCMP
00A0 400C              JC      ?C0020
00A2         ?C0021:
                                           ; SOURCE LINE # 161
00A2 7500C0      R     MOV     fFlashFreqHz+03H,#0C0H
00A5 750084      R     MOV     fFlashFreqHz+02H,#084H
00A8 7500C6      R     MOV     fFlashFreqHz+01H,#0C6H
00AB 750012      R     MOV     fFlashFreqHz,#012H
00AE         ?C0020:
                                           ; SOURCE LINE # 163
00AE AF00        R     MOV     R7,fFlashFreqHz+03H
00B0 AE00        R     MOV     R6,fFlashFreqHz+02H
00B2 AD00        R     MOV     R5,fFlashFreqHz+01H
00B4 AC00        R     MOV     R4,fFlashFreqHz
00B6 E4                CLR     A
00B7 120000      E     LCALL   ?C?FCASTL
00BA 900000      R     MOV     DPTR,#fDesiredFreqOOK
00BD 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 164
00C0 AF00        R     MOV     R7,fFlashFreqHz+03H
00C2 AE00        R     MOV     R6,fFlashFreqHz+02H
00C4 AD00        R     MOV     R5,fFlashFreqHz+01H
C51 COMPILER V9.59.0.0   KEYFOB_DEMO_2_MAIN                                                01/26/2026 21:51:49 PAGE 12  

00C6 AC00        R     MOV     R4,fFlashFreqHz
00C8 E4                CLR     A
00C9 120000      E     LCALL   ?C?FCASTL
00CC 900000      R     MOV     DPTR,#fDesiredFreqFSK
00CF 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 165
00D2 900000      R     MOV     DPTR,#bFskDev
00D5 7466              MOV     A,#066H
00D7 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 168
00D8 900000      R     MOV     DPTR,#rPaSetup+08H
00DB 743C              MOV     A,#03CH
00DD F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 169
00DE 900000      R     MOV     DPTR,#rPaSetup+0AH
00E1 7401              MOV     A,#01H
00E3 F0                MOVX    @DPTR,A
00E4 A3                INC     DPTR
00E5 740E              MOV     A,#0EH
00E7 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 170
00E8 E4                CLR     A
00E9 900000      R     MOV     DPTR,#rPaSetup+09H
00EC F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 171
00ED 900000      R     MOV     DPTR,#rPaSetup
00F0 120000      E     LCALL   ?C?LSTKXDATA
00F3 00                DB      00H
00F4 00                DB      00H
00F5 00                DB      00H
00F6 00                DB      00H
                                           ; SOURCE LINE # 172
00F7 900000      R     MOV     DPTR,#rPaSetup+04H
00FA 120000      E     LCALL   ?C?LSTKXDATA
00FD 00                DB      00H
00FE 00                DB      00H
00FF 00                DB      00H
0100 00                DB      00H
                                           ; SOURCE LINE # 173
0101 7E00        R     MOV     R6,#HIGH rPaSetup
0103 7F00        R     MOV     R7,#LOW rPaSetup
0105 120000      E     LCALL   _vPa_Setup
                                           ; SOURCE LINE # 181
0108 900000      R     MOV     DPTR,#rOdsSetup
010B 7401              MOV     A,#01H
010D F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 182
010E E4                CLR     A
010F FD                MOV     R5,A
0110 FC                MOV     R4,A
0111 FF                MOV     R7,A
0112 120000      E     LCALL   _vStl_EncodeSetup
                                           ; SOURCE LINE # 183
0115 900000      R     MOV     DPTR,#fDesiredFreqFSK
0118 E0                MOVX    A,@DPTR
0119 FC                MOV     R4,A
011A A3                INC     DPTR
011B E0                MOVX    A,@DPTR
011C FD                MOV     R5,A
011D A3                INC     DPTR
011E E0                MOVX    A,@DPTR
011F FE                MOV     R6,A
C51 COMPILER V9.59.0.0   KEYFOB_DEMO_2_MAIN                                                01/26/2026 21:51:49 PAGE 13  

0120 A3                INC     DPTR
0121 E0                MOVX    A,@DPTR
0122 FF                MOV     R7,A
0123 900000      R     MOV     DPTR,#fDesiredFreq
0126 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 184
0129 7500AA      R     MOV     bPreamble,#0AAH
                                           ; SOURCE LINE # 187
012C 900000      R     MOV     DPTR,#rOdsSetup+03H
012F 7407              MOV     A,#07H
0131 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 188
0132 900000      R     MOV     DPTR,#rOdsSetup+01H
0135 7405              MOV     A,#05H
0137 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 189
0138 E4                CLR     A
0139 A3                INC     DPTR
013A F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 190
013B 900000      R     MOV     DPTR,#rOdsSetup+06H
013E F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 191
013F A3                INC     DPTR
0140 7405              MOV     A,#05H
0142 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 192
0143 A3                INC     DPTR
0144 14                DEC     A
0145 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 193
0146 900000      R     MOV     DPTR,#rOdsSetup+04H
0149 7401              MOV     A,#01H
014B F0                MOVX    @DPTR,A
014C A3                INC     DPTR
014D 74A1              MOV     A,#0A1H
014F F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 194
0150 7E00        R     MOV     R6,#HIGH rOdsSetup
0152 7F00        R     MOV     R7,#LOW rOdsSetup
0154 120000      E     LCALL   _vOds_Setup
                                           ; SOURCE LINE # 196
0157 120000      E     LCALL   vFCast_Setup
                                           ; SOURCE LINE # 198
015A 7F64              MOV     R7,#064H
015C 120000      E     LCALL   _iMVdd_Measure
015F 8E00        R     MOV     iBatteryMv,R6
0161 8F00        R     MOV     iBatteryMv+01H,R7
                                           ; SOURCE LINE # 199
0163 C3                CLR     C
0164 E500        R     MOV     A,iBatteryMv+01H
0166 94C4              SUBB    A,#0C4H
0168 E500        R     MOV     A,iBatteryMv
016A 6480              XRL     A,#080H
016C 9489              SUBB    A,#089H
016E 4004              JC      ?C0022
0170 7F01              MOV     R7,#01H
0172 8002              SJMP    ?C0023
0174         ?C0022:
0174 7F00              MOV     R7,#00H
0176         ?C0023:
0176 8F00        R     MOV     bBatStatus,R7
C51 COMPILER V9.59.0.0   KEYFOB_DEMO_2_MAIN                                                01/26/2026 21:51:49 PAGE 14  

                                           ; SOURCE LINE # 201
0178 7F03              MOV     R7,#03H
017A 120000      E     LCALL   _vDmdTs_RunForTemp
017D         ?C0024:
                                           ; SOURCE LINE # 202
017D 120000      E     LCALL   bDmdTs_GetSamplesTaken
0180 EF                MOV     A,R7
0181 60FA              JZ      ?C0024
0183         ?C0026:
                                           ; SOURCE LINE # 205
                                           ; SOURCE LINE # 206
                                           ; SOURCE LINE # 207
0183 120000      R     LCALL   vButtonCheck
                                           ; SOURCE LINE # 208
0186 D284              SETB    MY_LED
                                           ; SOURCE LINE # 210
0188 900000      R     MOV     DPTR,#bButtonState
018B E0                MOVX    A,@DPTR
018C 600D              JZ      ?C0028
                                           ; SOURCE LINE # 211
                                           ; SOURCE LINE # 212
018E C284              CLR     MY_LED
                                           ; SOURCE LINE # 213
0190 900000      R     MOV     DPTR,#bRepeatCount
0193 7403              MOV     A,#03H
0195 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 214
0196 120000      E     LCALL   vRepeatTxLoop
                                           ; SOURCE LINE # 215
0199 80E8              SJMP    ?C0026
019B         ?C0028:
                                           ; SOURCE LINE # 216
019B 120000      E     LCALL   lSys_GetMasterTime
019E 7805              MOV     R0,#05H
01A0 120000      E     LCALL   ?C?ULSHR
01A3 E4                CLR     A
01A4 7B32              MOV     R3,#032H
01A6 FA                MOV     R2,A
01A7 F9                MOV     R1,A
01A8 F8                MOV     R0,A
01A9 C3                CLR     C
01AA 120000      E     LCALL   ?C?ULCMP
01AD 50D4              JNC     ?C0026
                                           ; SOURCE LINE # 217
                                           ; SOURCE LINE # 218
01AF C2AF              CLR     EA
                                           ; SOURCE LINE # 219
01B1 120000      E     LCALL   vSys_Shutdown
                                           ; SOURCE LINE # 220
                                           ; SOURCE LINE # 221
01B4 80CD              SJMP    ?C0026
             ; FUNCTION main (END)

             ; FUNCTION isr_rtc (BEGIN)
0000 C0E0              PUSH    ACC
0002 C0F0              PUSH    B
0004 C083              PUSH    DPH
0006 C082              PUSH    DPL
0008 C0D0              PUSH    PSW
000A 75D008            MOV     PSW,#08H
                                           ; SOURCE LINE # 227
                                           ; SOURCE LINE # 229
C51 COMPILER V9.59.0.0   KEYFOB_DEMO_2_MAIN                                                01/26/2026 21:51:49 PAGE 15  

000D 539C7F            ANL     RTC_CTRL,#07FH
                                           ; SOURCE LINE # 230
0010 7F05              MOV     R7,#05H
0012 120000      E     LCALL   _vSys_IncMasterTime
                                           ; SOURCE LINE # 231
0015 0500        R     INC     bIsr_DebounceCount
                                           ; SOURCE LINE # 233
0017 E500        R     MOV     A,bIsr_DebounceCount
0019 5401              ANL     A,#01H
001B 7003              JNZ     ?C0033
                                           ; SOURCE LINE # 234
001D 120000      E     LCALL   vBsr_Service
                                           ; SOURCE LINE # 235
0020         ?C0033:
0020 D0D0              POP     PSW
0022 D082              POP     DPL
0024 D083              POP     DPH
0026 D0F0              POP     B
0028 D0E0              POP     ACC
002A 32                RETI    
             ; FUNCTION isr_rtc (END)

             ; FUNCTION vButtonCheck (BEGIN)
                                           ; SOURCE LINE # 240
                                           ; SOURCE LINE # 241
                                           ; SOURCE LINE # 242
0000 C2AB              CLR     ERTC
                                           ; SOURCE LINE # 243
0002 E4                CLR     A
0003 900000      R     MOV     DPTR,#bButtonState
0006 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 245
0007 120000      E     LCALL   bBsr_GetPtsItemCnt
000A EF                MOV     A,R7
000B 6019              JZ      ?C0034
                                           ; SOURCE LINE # 246
                                           ; SOURCE LINE # 247
000D 120000      E     LCALL   wBsr_Pop
0010 EF                MOV     A,R7
0011 900000      R     MOV     DPTR,#bButtonState
0014 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 249
0015 E500        R     MOV     A,bPrevBtn
0017 6007              JZ      ?C0035
                                           ; SOURCE LINE # 250
                                           ; SOURCE LINE # 251
0019 E0                MOVX    A,@DPTR
001A F500        R     MOV     bPrevBtn,A
                                           ; SOURCE LINE # 252
001C E4                CLR     A
001D F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 253
001E 8006              SJMP    ?C0034
0020         ?C0035:
                                           ; SOURCE LINE # 255
                                           ; SOURCE LINE # 256
0020 900000      R     MOV     DPTR,#bButtonState
0023 E0                MOVX    A,@DPTR
0024 F500        R     MOV     bPrevBtn,A
                                           ; SOURCE LINE # 257
                                           ; SOURCE LINE # 258
0026         ?C0034:
C51 COMPILER V9.59.0.0   KEYFOB_DEMO_2_MAIN                                                01/26/2026 21:51:49 PAGE 16  

                                           ; SOURCE LINE # 260
0026 D2AB              SETB    ERTC
                                           ; SOURCE LINE # 261
0028 22                RET     
             ; FUNCTION vButtonCheck (END)

C51 COMPILER V9.59.0.0   KEYFOB_DEMO_2_MAIN                                                01/26/2026 21:51:49 PAGE 17  

NAME                                    CLASS   MSPACE  TYPE    OFFSET  SIZE
====                                    =====   ======  ====    ======  ====


bBsr_GetPtsItemCnt . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
P0 . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0080H  1
RTC_CTRL . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   009CH  1
P1 . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0090H  1
bBatStatus . . . . . . . . . . . . . .  PUBLIC   DATA   U_CHAR   0000H  1
tFCast_XoSetup . . . . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  5
  fXoFreq. . . . . . . . . . . . . . .  MEMBER   -----  FLOAT    0000H  4
  bLowCap. . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0004H  1
tBsr_PtsElement. . . . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  2
  bButtonVector. . . . . . . . . . . .  MEMBER   -----  U_CHAR   0000H  1
  bTimestamp . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0001H  1
EA . . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00AFH  1
SPI_MISO . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0087H  1
SPI_MOSI . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0090H  1
LWORD. . . . . . . . . . . . . . . . .  TYPEDEF  -----  U_LONG   -----  4
iBatteryMv . . . . . . . . . . . . . .  PUBLIC   DATA   INT      0001H  2
_iMVdd_Measure . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
PROT0_CTRL . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00DAH  1
IE . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00A8H  1
bPreamble. . . . . . . . . . . . . . .  PUBLIC   DATA   U_CHAR   0003H  1
tOds_Setup . . . . . . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  9
  bModulationType. . . . . . . . . . .  MEMBER   -----  U_CHAR   0000H  1
  bClkDiv. . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0001H  1
  bEdgeRate. . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0002H  1
  bGroupWidth. . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0003H  1
  wBitRate . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0004H  2
  bLcWarmInt . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0006H  1
  bDivWarmInt. . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0007H  1
  bPaWarmInt . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0008H  1
tBsr_Setup . . . . . . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  5
  bButtonMask. . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0000H  1
  pbPtsReserveHead . . . . . . . . . .  MEMBER   -----  PTR      0001H  2
  bPtsSize . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0003H  1
  bPushQualThresh. . . . . . . . . . .  MEMBER   -----  U_CHAR   0004H  1
lLEDOnTime . . . . . . . . . . . . . .  PUBLIC   XDATA  U_LONG   0000H  4
_vOds_Setup. . . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
lPartID. . . . . . . . . . . . . . . .  PUBLIC   XDATA  U_LONG   0004H  4
_vBsr_Setup. . . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
bDmdTs_GetSamplesTaken . . . . . . . .  EXTERN   CODE   PROC     -----  -----
IP . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00B8H  1
tPa_Setup. . . . . . . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  12
  fAlpha . . . . . . . . . . . . . . .  MEMBER   -----  FLOAT    0000H  4
  fBeta. . . . . . . . . . . . . . . .  MEMBER   -----  FLOAT    0004H  4
  bLevel . . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0008H  1
  bMaxDrv. . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0009H  1
  wNominalCap. . . . . . . . . . . . .  MEMBER   -----  U_INT    000AH  2
_vPa_Setup . . . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
CHAR . . . . . . . . . . . . . . . . .  TYPEDEF  -----  CHAR     -----  1
i8 . . . . . . . . . . . . . . . . . .  TYPEDEF  -----  CHAR     -----  1
fDesiredFreqFSK. . . . . . . . . . . .  PUBLIC   XDATA  FLOAT    0008H  4
PDMD . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00BAH  1
main . . . . . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  fFlashFreqHz . . . . . . . . . . . .  AUTO     DATA   U_LONG   0000H  4
fDesiredFreqOOK. . . . . . . . . . . .  PUBLIC   XDATA  FLOAT    000CH  4
lTimestamp . . . . . . . . . . . . . .  PUBLIC   DATA   U_LONG   0004H  4
SPI_CLK. . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0086H  1
bPrevBtn . . . . . . . . . . . . . . .  PUBLIC   DATA   U_CHAR   0000H  1
C51 COMPILER V9.59.0.0   KEYFOB_DEMO_2_MAIN                                                01/26/2026 21:51:49 PAGE 18  

NAME                                    CLASS   MSPACE  TYPE    OFFSET  SIZE
====                                    =====   ======  ====    ======  ====


bFskDev. . . . . . . . . . . . . . . .  PUBLIC   XDATA  U_CHAR   0010H  1
bIsr_DebounceCount . . . . . . . . . .  PUBLIC   DATA   U_CHAR   0008H  1
_vSys_Setup. . . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
u8 . . . . . . . . . . . . . . . . . .  TYPEDEF  -----  U_CHAR   -----  1
rOdsSetup. . . . . . . . . . . . . . .  PUBLIC   XDATA  STRUCT   0011H  9
_vDmdTs_RunForTemp . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
ERTC . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00ABH  1
rBsrSetup. . . . . . . . . . . . . . .  PUBLIC   XDATA  STRUCT   001AH  5
wBsr_Pop . . . . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
abFrame. . . . . . . . . . . . . . . .  PUBLIC   XDATA  ARRAY    001FH  24
lSys_GetMasterTime . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
BYTE . . . . . . . . . . . . . . . . .  TYPEDEF  -----  U_CHAR   -----  1
pbFrameHead. . . . . . . . . . . . . .  PUBLIC   DATA   PTR      0009H  2
_vSys_IncMasterTime. . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
rPaSetup . . . . . . . . . . . . . . .  PUBLIC   XDATA  STRUCT   0037H  12
fDesiredFreq . . . . . . . . . . . . .  PUBLIC   XDATA  FLOAT    0043H  4
WORD . . . . . . . . . . . . . . . . .  TYPEDEF  -----  U_INT    -----  2
_spi_flash_read. . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  addr . . . . . . . . . . . . . . . .  AUTO     DATA   U_LONG   0000H  4
  buf. . . . . . . . . . . . . . . . .  AUTO     DATA   PTR      0004H  3
  len. . . . . . . . . . . . . . . . .  AUTO     DATA   U_CHAR   0007H  1
  i. . . . . . . . . . . . . . . . . .  * REG *  DATA   U_CHAR   0005H  1
vFCast_Setup . . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
spi_delay. . . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0006H  -----
vRepeatTxLoop. . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
abConvTable. . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0000H  16
_vSys_SetMasterTime. . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
_vSys_BandGapLdo . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
i32. . . . . . . . . . . . . . . . . .  TYPEDEF  -----  LONG     -----  4
spi_flash_read_freq. . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  b. . . . . . . . . . . . . . . . . .  AUTO     DATA   ARRAY    0000H  4
  f. . . . . . . . . . . . . . . . . .  AUTO     DATA   U_LONG   0004H  4
rXoSetup . . . . . . . . . . . . . . .  PUBLIC   XDATA  STRUCT   0047H  5
i16. . . . . . . . . . . . . . . . . .  TYPEDEF  -----  INT      -----  2
bRepeatCount . . . . . . . . . . . . .  PUBLIC   XDATA  U_CHAR   004CH  1
vBsr_Service . . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
vButtonCheck . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
u32. . . . . . . . . . . . . . . . . .  TYPEDEF  -----  U_LONG   -----  4
SYSGEN . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00BEH  1
MY_LED . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0084H  1
u16. . . . . . . . . . . . . . . . . .  TYPEDEF  -----  U_INT    -----  2
TMR2CTRL . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00C8H  1
PORT_CTRL. . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00B5H  1
wPacketCount . . . . . . . . . . . . .  PUBLIC   DATA   U_INT    000BH  2
spi_read_byte. . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  i. . . . . . . . . . . . . . . . . .  * REG *  DATA   U_CHAR   0006H  1
  _data. . . . . . . . . . . . . . . .  * REG *  DATA   U_CHAR   0007H  1
SPI_CS . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0091H  1
GPIO_LED . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0085H  1
bButtonState . . . . . . . . . . . . .  PUBLIC   XDATA  U_CHAR   004DH  1
bStatus. . . . . . . . . . . . . . . .  PUBLIC   DATA   U_CHAR   000DH  1
bFrameSize . . . . . . . . . . . . . .  PUBLIC   XDATA  U_CHAR   004EH  1
abBsrPtsPlaceHolder. . . . . . . . . .  PUBLIC   XDATA  ARRAY    004FH  6
_vStl_EncodeSetup. . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
_spi_write_byte. . . . . . . . . . . .  PUBLIC   CODE   PROC     000BH  -----
  _data. . . . . . . . . . . . . . . .  * REG *  DATA   U_CHAR   0007H  1
  i. . . . . . . . . . . . . . . . . .  * REG *  DATA   U_CHAR   0006H  1
C51 COMPILER V9.59.0.0   KEYFOB_DEMO_2_MAIN                                                01/26/2026 21:51:49 PAGE 19  

NAME                                    CLASS   MSPACE  TYPE    OFFSET  SIZE
====                                    =====   ======  ====    ======  ====


lSys_GetProdId . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
vSys_Shutdown. . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
isr_rtc. . . . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
vSys_FirstPowerUp. . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
PSW. . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00D0H  1
_vSys_LedIntensity . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    802    ----
   CONSTANT SIZE    =     16    ----
   XDATA SIZE       =     85    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =     15      20
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
